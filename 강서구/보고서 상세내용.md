추천지역 = (생활편리시설 * 가중치) 합을 순서대로 나열해서 3위까지 나열한다
1. 생활편리시설

   (1) 데이터수집

   

   (2)데이터 스케일링

   - minmax scaler:

   최소값 0, 최대값 1로 정규화하는 방법으로  비교적 직관적이지만 이상치에 영향을 많이 받는다.

   ```python
   from sklearn.preprocessing import MinMaxScaler
   
   # Normalization 최소값 0 / 최대값 1
   scaler = MinMaxScaler()
   
   # 행정동 컬럼 제외
   minmax_trans = pd.DataFrame(scaler.fit_transform(df.iloc[:,1:]))
   minmax_trans
   ```

   ![image-20220318102803671](C:\Users\eunwon\AppData\Roaming\Typora\typora-user-images\image-20220318102803671.png)

   - robust scaler: Robust scaling :  

   중앙값 0, IQR 1이 되도록 스케일링하는 방법dmfh 최대, 최소값이 아닌 사분위수를 이용하기 때문에 이상치의 영향을 최소화 할 수 있다. 

   ```python
   from sklearn.preprocessing import RobustScaler
   
   scaler = RobustScaler()
   
   # 행정동 컬럼 제외
   robust_trans = pd.DataFrame(scaler.fit_transform(df.iloc[:,1:]))
   robust_trans
   ```

   ![image-20220318102930990](C:\Users\eunwon\AppData\Roaming\Typora\typora-user-images\image-20220318102930990.png)

   (3) scaler 결정

   minmax scaler는 0이 너무 많이 존재하고 이상치의 영향을 많이 받아서 robust scaler를 사용하게 되었다.



2. 가중치

(1) 1인가구의 어려움을 통해 시설 선호도 파악

![img](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/936d24e4-f21d-46ed-991c-00c487c11ca3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220318%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220318T010055Z&X-Amz-Expires=86400&X-Amz-Signature=b79ef33e5b55bce7fa3ab25317e6a21c28855ee673788c3f1ea9a7fc733d2716&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)



성별에 따라서는 남성은 생활/가사(47.1%,28.5%)로 여성(38.1%,22.0%)에 비해 9%, 6.5%로 가장 크게 차이가 났으며 여성은 안전/건강(33.6%, 11.6%)로 남성(28.0%,7.4%)에 비해 5.6%, 4.2%로 가장 크게 차이가 난다. 따라서 남성1인가구는 생활/가사영역에서 여성에 비해 관련시설 필요성이 높으며, 반면 여성은 안전과 건강역역에서 남성에 비해 관련시설 필요성이 높다는 것을 알 수 있다

연령별로 보았을 때 20세 이상 40세 미만을 청년으로 한다면 청년층은 단순평균 44.2% , 22.25%로 생활/가사 관련시설 필요성이 높으며 60세 이상 노년은 단순평균 26.8%, 43.25%로 고립과 안전관련 시설 필요성이 높음을 알 수 있다. 

이를 각 연령/성별별 가중치에 반영하여 각 층위에 대한 필요 시설들에 대한 선호도 가중치를 선정하였다. 

   (2) 여성청년1인가구와 노인1인가구 대표로 가중치 부여

이때 가장 두개의 층위로 여성 청년 1인가구와 노인1인가구를 선정하여 선호도 가중치를 정하였다.

   (3) 개인화 프로그램
   개인이 선호도 부여하는 것을 가정해서 40대 임대인을 가정하여 가중치를 부여해보았다.

| 시설                            | 여성20~34 | 전체65세이상 | 개인화 |
| ------------------------------- | --------- | ------------ | ------ |
| 체육시설                        | 2         | 3            | 1      |
| 도서관                          | 2         | 3            | 1      |
| 문화시설                        | 3         | 3            | 1      |
| 공원                            | 3         | 3            | 1      |
| 장애인복지시설                  | 0         | 0            | 0      |
| 어르신돌봄시설                  | 0         | 3            | 0      |
| 경로당                          | 0         | 3            | 0      |
| 사회복지시설                    | 0         | 3            | 0      |
| 전통시장                        | 2         | 3            | 1      |
| 백화점                          | 2         | 1            | 3      |
| 대형마트&슈퍼마켓               | 3         | 3            | 1      |
| 편의점                          | 3         | 1            | 1      |
| 세탁소                          | 2         | 1            | 3      |
| 식당                            | 3         | 1            | 1      |
| 카페                            | 3         | 1            | 1      |
| 헬스클럽                        | 2         | 0            | 3      |
| 영화관                          | 1         | 0            | 1      |
| 구청,동주민센터,보건소          | 1         | 3            | 0      |
| 공영주차장                      | 2         | 1            | 3      |
| 버스정류장                      | 3         | 3            | 0      |
| 공공자전거 대여소               | 3         | 0            | 0      |
| 파출소                          | 3         | 0            | 0      |
| 여성안심택배함                  | 3         | 0            | 0      |
| 심리상담센터                    | 3         | 0            | 0      |
| 병원                            | 1         | 3            | 3      |
| CCTV                            | 3         | 0            | 3      |
| 개등록수                        | 2         | 0            | 3      |
| 고양이등록수                    | 2         | 0            | 3      |
| 동물병원                        | 2         | 0            | 3      |
| 원룸(보증금)                    | -3        | 0            | 0      |
| 원룸(월세)                      | -3        | 0            | 0      |
| 투룸.쓰리룸(보증금)             | 0         | -3           | 0      |
| 투룸.쓰리룸(월세)               | 0         | -3           | 0      |
| 오피스텔/도시형생활주택(보증금) | -3        | 0            | 0      |
| 오피스텔/도시형생활주택(월세)   | -3        | 0            | 0      |
| 아파트(보증금)                  | 0         | 0            | 0      |
| 아파트(월세)                    | 0         | -3           | 0      |
| 원룸(전세)                      | 0         | 0            | 0      |
| 투룸.쓰리룸(전세)               | 0         | -3           | 0      |
| 오피스텔/도시형생활주택(전세)   | 0         | 0            | 0      |
| 아파트(전세)                    | 0         | -3           | 3      |

3. 내적값을 통해 추천지역 선정

| 여성1인  | 노인1인 | 개인화   |
| -------- | ------- | -------- |
| 가양1동  | 발산1동 | 화곡1동  |
| 발산1동  | 방화1동 | 가양1동  |
| 화곡1동  | 방화2동 | 염창동   |
| 방화1동  | 방화3동 | 화곡본동 |
| 우장산동 | 등촌3동 | 우장산동 |